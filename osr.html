<!DOCTYPE html>
<html lang="en">
	<head>

		<!-- Basic -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>SBSB Intranet</title>	

		<meta name="keywords" content="WebSite Template" />
		<meta name="description" content="Porto - Multipurpose Website Template">
		<meta name="author" content="okler.net">

		<!-- Favicon -->
		<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
		<link rel="apple-touch-icon" href="img/apple-touch-icon.png">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">

		<!-- Web Fonts  -->
		<link id="googleFonts" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800%7CShadows+Into+Light%7CPlayfair+Display:400&display=swap" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="vendor/fontawesome-free/css/all.min.css">
		<link rel="stylesheet" href="vendor/animate/animate.compat.css">
		<link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.carousel.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.theme.default.min.css">
		<link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.min.css">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="css/theme.css">
		<link rel="stylesheet" href="css/theme-elements.css">
		<link rel="stylesheet" href="css/theme-blog.css">
		<link rel="stylesheet" href="css/theme-shop.css">

		<!-- Current Page CSS -->
		<link rel="stylesheet" href="vendor/circle-flip-slideshow/css/component.css">

		<!-- Skin CSS -->
		<link id="skinCSS" rel="stylesheet" href="css/skins/default.css">

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="css/custom.css">

		<style>
			.header-logo img {
				width: 90px;
				height: auto;
				transition: width 0.3s, height 0.3s;
			}
	
			#header.header-effect-shrink .header-logo img {
				width: 90px; /* Adjust the sticky width */
				height: auto; /* Maintain aspect ratio */
			}
		</style>

	</head>
	<body data-plugin-page-transition>
		<div class="body">
			<header id="header" class="header-effect-shrink" data-plugin-options="{'stickyEnabled': true, 'stickyEffect': 'shrink', 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': false, 'stickyChangeLogo': true, 'stickyStartAt': 30, 'stickyHeaderContainerHeight': 70}">
				<div class="header-body">
					<div class="header-container container">
						<div class="header-row">
							<div class="header-column">
								<div class="header-row">
									<div class="header-logo">
										<a href="index.html">
											<img alt="SBSB" style="width: 90px; height: auto;" data-sticky-width="90" data-sticky-height="90" src="SBSB-logo.png">
										</a>
									</div>							
								</div>
							</div>
							<div class="header-column justify-content-end">
								<div class="header-row">
									<div class="header-nav header-nav-line header-nav-top-line header-nav-top-line-with-border order-2 order-lg-1">
										<div class="header-nav-main header-nav-main-square header-nav-main-effect-2 header-nav-main-sub-effect-1">
											<nav class="collapse">
												<ul class="nav nav-pills" id="mainNav">
													<li class="dropdown">
														<a class="dropdown-item dropdown-toggle active" href="index.html">Home</a>
													</li>
													<li class="dropdown">
														<a class="dropdown-item dropdown-toggle" href="#">Support</a>
														<ul class="dropdown-menu">
															<li><a class="dropdown-item" href="itform.html">IT Ticket</a></li>
															<li><a class="dropdown-item" href="osr.html">Office Service Request</a></li>
															<li><a class="dropdown-item" href="conf.html">Conf. Room Request</a></li>
														</ul>
													</li>
													<li class="dropdown">
														<a class="dropdown-item dropdown-toggle" href="#">Directory</a>
														<ul class="dropdown-menu">
															<li><a class="dropdown-item" href="extension.html">Extension List</a></li>
															<li><a class="dropdown-item" href="visual.html">Visual Directory</a></li>
															<li><a class="dropdown-item" href="orgchart.html">Org Chart</a></li>
														</ul>
													</li>
													<li class="dropdown">
														<a class="dropdown-item dropdown-toggle" href="event calendar.html">Events</a>
													</li>
													<li class="dropdown">
														<a class="dropdown-item dropdown-toggle" href="#">Other</a>
														<ul class="dropdown-menu">
															<li><a class="dropdown-item" href="gallery.html">Gallery</a></li>
														</ul>
													</li>

												</ul>
											</nav>
										</div>
										<button class="btn header-btn-collapse-nav" data-bs-toggle="collapse" data-bs-target=".header-nav-main nav">
											<i class="fas fa-bars"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</header>

	
			<div class="card mb-4">
				<div class="card-body">
					<div class="row">
						<div class="col">
							  <form class="contact-form" action="php/contact-form.php" method="POST">
								<div class="contact-form-success alert alert-success d-none mt-4">
									<strong>Success!</strong> Your message has been sent to us.
								</div>
					  
								<div class="contact-form-error alert alert-danger d-none mt-4">
								  <strong>Error!</strong> There was an error sending your message.
								  <span class="mail-error-message text-1 d-block"></span>
								</div>
					  
								<div class="row">
								  <div class="form-group col-lg-6">
									<label class="form-label mb-1 text-2">Full Name</label>
									<input type="text" value="" data-msg-required="Please enter your name." maxlength="100" class="form-control text-3 h-auto py-2" name="name" required>
								  </div>
								  <div class="form-group col-lg-6">
									<label class="form-label mb-1 text-2">Email Address</label>
									<input type="email" value="" data-msg-required="Please enter your email address." data-msg-email="Please enter a valid email address." maxlength="100" class="form-control text-3 h-auto py-2" name="email" required>
								  </div>
								</div>
					  
								<div class="row">
									<div class="form-group col-lg-4">
										<label class="form-label">City</label>
										<select class="form-select form-control h-auto py-2" data-msg-required="Please select a city." name="city" id="citySelect" required>
											<option value="Houston" selected>Houston</option>
											<option value="Boca">Boca</option>
											<option value="New Orleans">New Orleans</option>
											<option value="Chicago">Chicago</option>
											<option value="Dallas">Dallas</option>
											<option value="Chorpus Christi">Corpus Christi</option>
											<option value="Mobile">Mobile</option>
											<option value="Milwaukee">Milwaukee</option>
										</select>
									</div>							
								  <div class="form-group col-lg-4">
									<label class="form-label mb-1 text-2">Category</label>
									<select class="form-select form-control h-auto py-2" data-msg-required="Please select a category." name="category" required>
										<option value="General">General</option>
										<option value="Print Request">Print Request</option>
										<option value="Mail Request">Mail Request</option>
										<option value="Supply Restock">Supply Restock</option>
										<option value="Other">Other</option>
									</select>
								</select>
							</div>
							<div class="form-group col-lg-4">
							  <label class="form-label mb-1 text-2">Extension/Phone</label>
							  <input type="text" value="" data-msg-required="Please enter your number." maxlength="20" class="form-control text-3 h-auto py-2" name="phone" required>
							</div>
						  </div>

								<div class="row">
								  <div class="form-group col">
									<label class="form-label mb-1 text-2">Message</label>
									<textarea maxlength="2000" data-msg-required="Please enter your message." rows="8" class="form-control text-3 h-auto py-2" name="message" required></textarea>
								  </div>
								</div>
					  
								<div class="row">
								  <div class="form-group col">
									<div class="form-check">
									  <input class="form-check-input" type="checkbox" value="" name="agree" id="tabContent10Checkbox" data-msg-required="You must agree before submitting." required>
									  <label class="form-check-label" for="tabContent10Checkbox">
										Agree to terms and conditions
									  </label>
									</div>
								  </div>
								</div>
					  
								<div class="row">
									<div class="form-group col">
									  <input type="submit" value="Submit Form" class="btn btn-primary" data-loading-text="Loading...">
									  <button type="button" class="btn btn-primary" onclick="document.getElementById('fileUpload').click();">Attachment</button>
									  <input type="file" id="fileUpload" name="attachment" style="display:none;" onchange="updateFileName()" data-msg-required="Please attach your file." accept=".doc,.docx,.pdf,.txt,.jpg,.jpeg,.png,.gif" data-msg-size="The file must be less than 20MB.">
									  <span id="fileUploadName"></span>
									</div>
								</div>
							  </form>
							</div>
						  </div>
						</div>
					  </div>


	
					<div class="footer-copyright">
						<div class="container py-2">
							<div class="row py-4">
								<div class="col-lg-1 d-flex align-items-center justify-content-center justify-content-lg-start mb-2 mb-lg-0">
									<a href="index.html" class="logo pe-0 pe-lg-3">
										<img alt="Porto Website Template" src="SBSB-logo.png" class="opacity-7" height="50">
									</a>
								</div>
								<div class="col-lg-7 d-flex align-items-center justify-content-center justify-content-lg-start mb-4 mb-lg-0">
									<p>Â© SBSB-EASTHAM 2024.</p>
								</div>
								<div class="col-lg-4 d-flex align-items-center justify-content-center justify-content-lg-end">
									<div>
										<h5>Darkmode/lightmode</h5>
										<label class="p-switch switch-color-secondary">
											<input type="checkbox" id="modeSwitch" name="switch" checked><span class="p-switch-style"></span>
										</label>
									</div>
								</div>						
						</div>
					</div>
				</footer>
			</div>



<script>
function updateFileName() {
var upload = document.getElementById('fileUpload');
var fileNameField = document.getElementById('fileUploadName');
if (upload.files.length > 0) {
var fileName = upload.files[0].name;
fileNameField.textContent = ' ' + fileName + ' uploaded';
} else {
fileNameField.textContent = '';
}
}
</script>

		<!-- Vendor -->
		<script src="vendor/plugins/js/plugins.min.js"></script>

		<!-- Theme Base, Components and Settings -->
		<script src="js/theme.js"></script>

		<!-- Circle Flip Slideshow Script -->
		<script src="vendor/circle-flip-slideshow/js/jquery.flipshow.min.js"></script>
		<!-- Current Page Views -->
		<script src="js/views/view.home.js"></script>

		<!-- Theme Custom -->
		<script src="js/custom.js"></script>

		<!-- Theme Initialization Files -->
		<script src="js/theme.init.js"></script>

		<!-- Scroll top -->
		<a id="scrollTop"><i class="icon-chevron-up"></i><i class="icon-chevron-up"></i></a>
		<!--Plugins-->
		<script src="js/jquery.js"></script>
		<script src="js/plugins.js"></script>
		
		<link href="plugins/bootstrap-switch/bootstrap-switch.css" rel="stylesheet">
		<script src="plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
		
		<!--Template functions-->
		<script src="js/functions.js"></script>
		
		<script src="1darklight.js"></script>


		<!--Template functions-->
		<script src="js/functions.js"></script>
		<!-- jQuery Validate plugin files-->
		<script src="plugins/validate/validate.min.js"></script>
		<script src="plugins/validate/valildate-rules.js"></script>

		<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
		<script type="text/javascript">
			// Initialize EmailJS with your User ID
			(function () {
			  emailjs.init("KlZdczArD6ZckTFX2");
			  console.log("EmailJS initialized");
			})();
		  
			document.addEventListener("DOMContentLoaded", function () {
			  console.log("DOM fully loaded and parsed");
		  
			  const form = document.querySelector(".contact-form");
			  const citySelect = document.getElementById("citySelect");
		  
			  if (!form) {
				console.error("Form not found");
				return;
			  }
		  
			  let selectedTemplate = "template_0fzz3kb"; // Default template
		  
			  // Update template based on city selection
			  citySelect.addEventListener("change", function (event) {
				const selectedCity = event.target.value.trim(); // Trim to avoid leading/trailing spaces
				console.log(`City selected: "${selectedCity}"`);
		  
				if (selectedCity === "Boca") {
					selectedTemplate = "template_lo8ia1y";
				  } else if (selectedCity === "Houston") {
					selectedTemplate = "template_4la7t3g";
				  } else if (selectedCity === "Chicago") {
					selectedTemplate = "template_dwl6b5s";
				  } else if (selectedCity === "New Orleans") {
					selectedTemplate = "template_mbpymec"; // New Orleans template
				  } else {
					selectedTemplate = "template_0fzz3kb"; // Default template
				  }
		  
				console.log(`Template set to: ${selectedTemplate}`);
			  });
		  
			  // Handle form submission
			  form.addEventListener("submit", function (event) {
				event.preventDefault();
				console.log("Submit event triggered");
		  
				const fileInput = document.getElementById('fileUpload');
				if (fileInput.files.length > 0) {
				  console.log("File is attached, sending form with EmailJS.");
				} else {
				  console.log("No file attached, sending form with EmailJS.");
				}
		  
				emailjs
				  .sendForm("service_7xc0ocs", selectedTemplate, this)
				  .then(
					function (response) {
					  console.log("SUCCESS!", response.status, response.text);
					  alert("Email sent successfully!");
					  document.querySelector(".contact-form-success").classList.remove("d-none");
					  document.querySelector(".contact-form-error").classList.add("d-none");
					},
					function (error) {
					  console.error("FAILED...", error);
					  alert("Failed to send email: " + error.text);
					  document.querySelector(".contact-form-error").classList.remove("d-none");
					  document.querySelector(".contact-form-success").classList.add("d-none");
					  document.querySelector(".mail-error-message").textContent = error.text;
					}
				  );
			  });
			});
		  
			function updateFileName() {
			  const fileInput = document.getElementById('fileUpload');
			  const fileName = fileInput.files[0] ? fileInput.files[0].name : '';
			  document.getElementById('fileUploadName').textContent = fileName;
			}
		  </script>
		  
	</body>
</html>